<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensitivity Analysis ‚Äì Problem 1 Only</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
            min-height: 100vh; padding: 20px;
        }
        .container {
            max-width: 1200px; margin: 0 auto; background: white;
            border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header { background: linear-gradient(135deg, #43cea2, #185a9d); color: white; padding: 40px; text-align: center; }
        .header h1 { font-size: 2.2rem; margin-bottom: 8px; }
        .header p { opacity: 0.95; }
        .progress-bar { background: #f0f0f0; height: 10px; }
        .progress-fill { background: linear-gradient(135deg, #43cea2, #185a9d); height: 100%; width: 0%; transition: width 0.5s ease; }
        .nav-tabs { display: flex; background: #f8f9fa; border-bottom: 2px solid #ddd; }
        .tab { flex: 1; padding: 16px; text-align: center; cursor: pointer; background: white; font-weight: 600; color: #185a9d; border: none; }
        .content { padding: 32px; }
        .problem-header { background: #f8f9fa; padding: 25px; border-radius: 12px; margin-bottom: 30px; border-left: 5px solid #43cea2; }
        .problem-header h2 { color: #185a9d; margin-bottom: 10px; }
        .difficulty-badge { display: inline-block; padding: 6px 15px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; margin-bottom: 10px; background:#fed7d7;color:#742a2a;}
        .solver-output { background: #fff9e6; padding: 25px; border-radius: 12px; margin: 25px 0; border: 2px solid #ffd54f; }
        .solver-output h3 { color: #e65100; margin-bottom: 12px; }
        table { width: 100%; border-collapse: collapse; margin: 16px 0; background: white; }
        th, td { padding: 12px; text-align: left; border: 1px solid #ddd; }
        th { background: #185a9d; color: white; }
        tr:nth-child(even) { background: #f8f9fa; }
        .question-section { background: #e3f2fd; padding: 25px; border-radius: 12px; margin: 25px 0; border-left: 5px solid #2196f3; }
        .question { margin: 18px 0; padding: 16px; background: white; border-radius: 10px; }
        .question-number { display: inline-block; background: #185a9d; color: white; width: 30px; height: 30px; border-radius: 50%; text-align: center; line-height: 30px; margin-right: 10px; font-weight: bold; }
        .input-group { margin-top: 10px; }
        .input-group input[type="text"], .input-group input[type="number"] {
            width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-family: 'Courier New', monospace;
        }
        .input-group input.correct { border-color: #4caf50; background: #e8f5e9; }
        .input-group input.incorrect { border-color: #f44336; background: #ffebee; }
        .radio-group { display: flex; flex-direction: column; gap: 12px; }
        .radio-option { display: flex; align-items: center; padding: 14px; background: #f8f9fa; border: 2px solid #ddd; border-radius: 8px; cursor: pointer; }
        .radio-option input[type="radio"] { margin-right: 12px; width: 20px; height: 20px; cursor: pointer; }
        .check-btn {
            background: linear-gradient(135deg, #43cea2, #185a9d); color: white; border: none;
            padding: 14px 32px; border-radius: 30px; font-weight: 700; cursor: pointer; margin-top: 10px;
        }
        .feedback { margin-top: 16px; padding: 16px; border-radius: 10px; display: none; }
        .feedback.show { display: block; }
        .feedback.correct { background: #e8f5e9; border-left: 5px solid #4caf50; color: #2e7d32; }
        .feedback.partial { background: #fff9e6; border-left: 5px solid #ff9800; color: #e65100; }
        .feedback.incorrect { background: #ffebee; border-left: 5px solid #f44336; color: #c62828; }
        .score-display {
            position: fixed; top: 20px; right: 20px; background: white; padding: 16px; border-radius: 14px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2); z-index: 1000; text-align: center;
        }
        .score-display h3 { color: #185a9d; margin-bottom: 6px; font-size: 0.95rem; }
        .score-value { font-size: 1.6rem; font-weight: bold; color: #43cea2; }
        @media (max-width: 768px) {
            .content { padding: 20px; }
            .score-display { position: static; margin: 10px 0 0; }
            table { font-size: 0.9rem; } th, td { padding: 8px; }
        }
    </style>
</head>
<body>
    <div class="score-display">
        <h3>Your Score</h3>
        <div class="score-value"><span id="totalScore">0</span> / 5</div>
    </div>

    <div class="container">
        <div class="header">
            <h1>üìä Sensitivity Analysis Practice</h1>
            <p>Problem 1 only ‚Äì Multi‚ÄëProduct Manufacturing</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>

        <div class="nav-tabs">
            <button class="tab" onclick="showProblem(5)">
                Problem 1
                <span class="difficulty">Hard</span>
            </button>
        </div>

        <div class="content">
            <!-- Problem 1: Hard - Complex Multi-Period -->
            <div class="problem active" id="problem5">
                <div class="problem-header">
                    <span class="difficulty-badge">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Hard</span>
                    <h2>Problem 1: Multi-Product Manufacturing</h2>
                    <p>A manufacturer produces three products (A, B, C) across two departments with multiple constraints.</p>
                    <p style="margin-top: 10px;"><strong>Objective Function:</strong> Maximize Z = 60A + 50B + 40C</p>
                    <p><strong>Constraints:</strong></p>
                    <ul style="margin-left: 25px; margin-top: 10px;">
                        <li>Assembly time: 4A + 3B + 2C ‚â§ 240 hours</li>
                        <li>Finishing time: 2A + 3B + 4C ‚â§ 200 hours</li>
                        <li>Raw materials: 5A + 4B + 3C ‚â§ 300 units</li>
                        <li>Minimum Product A: A ‚â• 10 units</li>
                        <li>Market demand for B: B ‚â§ 40 units</li>
                    </ul>
                </div>

                <div class="solver-output">
                    <h3>üìã Solver Output</h3>
                    <h4 style="margin-top: 20px; color: #185a9d;">Decision Variables:</h4>
                    <table>
                        <tr>
                            <th>Variable</th>
                            <th>Final Value</th>
                            <th>Reduced Cost</th>
                            <th>Obj Coefficient</th>
                            <th>Allow. Inc</th>
                            <th>Allow. Dec</th>
                        </tr>
                        <tr>
                            <td>A (Product A)</td>
                            <td>30</td>
                            <td>0</td>
                            <td>60</td>
                            <td>20</td>
                            <td>10</td>
                        </tr>
                        <tr>
                            <td>B (Product B)</td>
                            <td>32</td>
                            <td>0</td>
                            <td>50</td>
                            <td>15</td>
                            <td>12</td>
                        </tr>
                        <tr>
                            <td>C (Product C)</td>
                            <td>0</td>
                            <td>8</td>
                            <td>40</td>
                            <td>‚àû</td>
                            <td>8</td>
                        </tr>
                    </table>

                    <h4 style="margin-top: 20px; color: #185a9d;">Constraints:</h4>
                    <table>
                        <tr>
                            <th>Constraint</th>
                            <th>Final Value</th>
                            <th>Shadow Price</th>
                            <th>RHS</th>
                            <th>Allow. Inc</th>
                            <th>Allow. Dec</th>
                        </tr>
                        <tr>
                            <td>Assembly</td>
                            <td>216</td>
                            <td>0</td>
                            <td>240</td>
                            <td>‚àû</td>
                            <td>24</td>
                        </tr>
                        <tr>
                            <td>Finishing</td>
                            <td>156</td>
                            <td>0</td>
                            <td>200</td>
                            <td>‚àû</td>
                            <td>44</td>
                        </tr>
                        <tr>
                            <td>Materials</td>
                            <td>278</td>
                            <td>0</td>
                            <td>300</td>
                            <td>‚àû</td>
                            <td>22</td>
                        </tr>
                        <tr>
                            <td>Min Product A</td>
                            <td>30</td>
                            <td>-5</td>
                            <td>10</td>
                            <td>20</td>
                            <td>15</td>
                        </tr>
                        <tr>
                            <td>Max Product B</td>
                            <td>32</td>
                            <td>0</td>
                            <td>40</td>
                            <td>‚àû</td>
                            <td>8</td>
                        </tr>
                    </table>
                </div>

                <div class="question-section">
                    <div class="question">
                        <div class="question-text">
                            <span class="question-number">1</span>
                            What is the optimal profit?
                        </div>
                        <div class="input-group">
                            <input type="number" id="p1q1" placeholder="Enter profit">
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">
                            <span class="question-number">2</span>
                            Which constraints are binding (have zero slack/surplus)?
                        </div>
                        <div class="input-group">
                            <label>Enter constraint names separated by commas (e.g., "Assembly, Finishing")</label>
                            <input type="text" id="p1q2" placeholder="Enter binding constraints">
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">
                            <span class="question-number">3</span>
                            Why should Product C not be produced?
                        </div>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="p1q3" id="p1q3a" value="reducedcost">
                                It has a positive reduced cost of $8, meaning profit would need to increase by $8 to make it worthwhile
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="p1q3" id="p1q3b" value="resources">
                                Not enough resources available
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="p1q3" id="p1q3c" value="demand">
                                No market demand exists
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">
                            <span class="question-number">4</span>
                            If the profit per unit of Product A changes from $60 to $75, will the optimal production plan change?
                        </div>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="p1q4" id="p1q4a" value="no">
                                No, $75 is within the allowable range [$50, $80]
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="p1q4" id="p1q4b" value="yes">
                                Yes, it exceeds the allowable increase
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-text">
                            <span class="question-number">5</span>
                            What is the economic interpretation of the shadow price of -$5 for the "Min Product A" constraint?
                        </div>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="p1q5" id="p1q5a" value="hurts">
                                Each unit increase in the minimum reduces profit by $5; this constraint is forcing us to produce more A than optimal
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="p1q5" id="p1q5b" value="helps">
                                The constraint helps increase profit by $5 per unit
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="p1q5" id="p1q5c" value="nonbinding">
                                The constraint is non-binding and has no effect
                            </label>
                        </div>
                    </div>

                    <button class="check-btn" onclick="checkProblem5()">Check Answers</button>
                    <div class="feedback" id="feedback5"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // With only Problem 1, keep the same scoring mechanics but cap at 5.
        let totalScore = 0;
        // Keep the array length 5 so updateScore logic for index 4 works unchanged.
        let problemScores = [0, 0, 0, 0, 0];

        function showProblem(num) {
            // Only one problem present; ensure the section is visible.
            document.getElementById('problem5').classList.add('active');
            document.getElementById('problem5').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function updateProgressBar() {
            const progress = (totalScore / 5) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function checkProblem5() {
            let score = 0;

            // Q1: 60(30) + 50(32) + 40(0) = 1800 + 1600 + 0 = 3400
            const q1 = parseFloat(document.getElementById('p1q1').value);
            if (q1 === 3400) {
                score++;
                document.getElementById('p1q1').classList.add('correct');
                document.getElementById('p1q1').classList.remove('incorrect');
            } else {
                document.getElementById('p1q1').classList.add('incorrect');
                document.getElementById('p1q1').classList.remove('correct');
            }

            // Q2: Only Min Product A is binding (based on zero slack/surplus implication via shadow price)
            const q2 = document.getElementById('p1q2').value.toLowerCase();
            if (q2.includes('min product a') || (q2.includes('min') && q2.includes('a'))) {
                score++;
                document.getElementById('p1q2').classList.add('correct');
                document.getElementById('p1q2').classList.remove('incorrect');
            } else {
                document.getElementById('p1q2').classList.add('incorrect');
                document.getElementById('p1q2').classList.remove('correct');
            }

            // Q3: Reduced cost explanation
            const q3 = document.querySelector('input[name="p1q3"]:checked');
            if (q3 && q3.value === 'reducedcost') score++;

            // Q4: Within allowable range
            const q4 = document.querySelector('input[name="p1q4"]:checked');
            if (q4 && q4.value === 'no') score++;

            // Q5: Negative shadow price interpretation
            const q5 = document.querySelector('input[name="p1q5"]:checked');
            if (q5 && q5.value === 'hurts') score++;

            updateScore(4, score, 5);
        }

        function updateScore(problemIndex, newScore, maxScore) {
            totalScore = totalScore - problemScores[problemIndex] + newScore;
            problemScores[problemIndex] = newScore;
            document.getElementById('totalScore').textContent = totalScore;
            updateProgressBar();

            const feedbackDiv = document.getElementById('feedback5');
            feedbackDiv.classList.add('show');

            if (newScore === maxScore) {
                feedbackDiv.className = 'feedback show correct';
                feedbackDiv.innerHTML = '<h4>‚úì Perfect! All answers correct!</h4><p>You earned ' + newScore + '/' + maxScore + ' points.</p>';
            } else if (newScore >= maxScore * 0.6) {
                feedbackDiv.className = 'feedback show partial';
                feedbackDiv.innerHTML = '<h4>Good work!</h4><p>You earned ' + newScore + '/' + maxScore + ' points. Review the incorrect answers.</p>';
            } else {
                feedbackDiv.className = 'feedback show incorrect';
                feedbackDiv.innerHTML = '<h4>Keep practicing!</h4><p>You earned ' + newScore + '/' + maxScore + ' points. Review the key concepts and try again.</p>';
            }

            // Show correct answers for Problem 1
            feedbackDiv.innerHTML += `
                <div style="margin-top: 15px; padding: 15px; background: white; border-radius: 8px;">
                    <strong>Correct Answers:</strong><br>
                    1. Optimal profit = $3,400<br>
                    2. Only "Min Product A" is binding<br>
                    3. Reduced cost of $8 means it's not worth producing<br>
                    4. No, $75 is within [50, 80]<br>
                    5. Constraint forces us to produce more A than optimal
                </div>
            `;
        }
    </script>
</body>
</html>
